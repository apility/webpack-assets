# WebpackAssets

WebpackAssets is a helper class for reading the manifest generated by [webpack-assets-manifest](https://www.npmjs.com/package/webpack-assets-manifest), and output relevant link and script tags.

## Installation

Use the package manager [Composer](https://getcomposer.org/) to install WebpackAssets.

```bash
composer require apility/webpack-assets
```

## Usage
```php
<?php
use Apility\WebpackAssets\WebpackAssets;

$manifest = "path/to/manifest.json";

$options = [
  'entrypointName' => 'app',
  'preload' => true,
  'integrity' => false,
  'basePath' => null,
];

$webpackAssets = new WebpackAssets($manifest, $options);
?>

<head>
  <?= $webpackAssets->getHeadAssets(); ?>
</head>

<body>
  <?= $webpackAssets->getBodyAssets(); ?>
</body>
```

## Options 

### $manifest
The `$manifest` argument can be one of the following:
* An absolute path to generated manifest file. Must start with / to be treated as a file path.
* The manifest string.
* A deserialized array of object of the manifest file.

### $options
The `$options` argument is an assoicative array on an object with the following keys:
* `entrypointName`: The default entrypoint to get from the manifest when none is specified in `getHeadAssets` or `getBodyAssets` calls.  
  Default: `'app'`
* `preload`: Whether add preload links for style and scripts in head.  
  Default: `true`
* `integrity`: Whether integrity should be read from the manifest, and added to the output.  
  Default: `false`
* `basePath`: Adds basePath segment to prepend asset urls with. Note: basePath won't be applied to hmr urls, because it only applies to assets whose url start with `/`.
  Default: `null`
 
